<div class="@className">
    <button class="toggle-icon" @onclick="@(ToggleNavMenu)">@iconString</button>
    <div class="@hidden">
        @ChildContent
    </div>
</div>

@code
{
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool? Mirror { get; set; }

    private string hidden = "hidden";
    private string className = "collapse";
    private string iconString;
    
    public override async Task SetParametersAsync(ParameterView parameters)
    {
        if (parameters.TryGetValue<bool>(nameof(Mirror), out var value))
        {
            iconString = value ? "⇤" : "⇥";
        }
        else
        {
            iconString = "⇥";
        }

        await base.SetParametersAsync(parameters);
    }

    private void ToggleNavMenu()
    {
        hidden = hidden == "" ? "hidden" : "";
        className = className == "" ? "collapse" : "";
        iconString = iconString == "⇤" ? "⇥" : "⇤";
    }
}
